{% extends "instagram_app/base.html" %}

{% block title %}Post Detail{% endblock %}

{% block content %}
<h2>{{ post.user.username }}</h2>
<p>{{ post.caption }}</p>
{% if post.image %}
<img src="{{ post.image.url }}" alt="Post image" width="250">
{% endif %}

<h3>Comments</h3>
{% for c in post.comments.all %}
<p><b>{{ c.user.username }}</b>: {{ c.text }}</p>
{% empty %}
<p>No comments yet.</p>
{% endfor %}

<h3>Add Comment</h3>
<form method="post" action="{% url 'add_comment' post.id %}">
    {% csrf_token %}
    <textarea name="text" placeholder="Write a comment..." required></textarea>
    <button type="submit">Comment</button>
</form>
{% endblock %}
