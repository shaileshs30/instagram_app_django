{% extends "instagram_app/base.html" %}

{% block title %}Instagram Feed{% endblock %}

{% block content %}
<h2>Instagram Feed</h2>
<a href="{% url 'post_create' %}">Add Post</a>
<hr>

{% for post in posts %}
<div class="post-card">
    <p><b>{{ post.user.username }}</b></p>
    <p>{{ post.caption }}</p>
    {% if post.image %}
        <img src="{{ post.image.url }}" alt="Post image">
    {% endif %}
    <p>Likes: {{ post.likes.count }}</p>
    <a href="{% url 'like_post' post.id %}">Like/Unlike</a> |
    <a href="{% url 'post_detail' post.id %}">View Comments</a>
</div>
{% empty %}
<p>No posts yet.</p>
{% endfor %}
{% endblock %}
